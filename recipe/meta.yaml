package:
  name: occt
  version: 7.1.0

source:
  fn: occ.tar.gz
  url: https://github.com/looooo/occt-feedstock/releases/download/7.1.0/occt-89aebde.tar.gz
  sha256: 45365d9d6f1790a55c834abac1c114405852dd2fa214aca428536c02274f4815

build:
  number: 2
  skip: true                              # [(win and not py35) or osx]

  features:
    - occt7.1.0
    - vc14                                # [win and py35]

  track_features:
    - vc14                                # [win and py35]
    - occt7.1.0

requirements:
  build:
    - python                              # [win]
    - cmake                               # [unix]
    - ninja                               # [win]
    - toolchain                           # [osx]
    - freetype 2.7.*
    - tk 8.5.*                            # [not win]
    - freeimage                           # [unix]
    - tbb                                 # [unix]
  run:
    - freetype 2.7.*
    - tk 8.5.*                            # [not win]
    - freeimage                           # [unix]
    - tbb                                 # [unix]

test:
  requires:
  - python {{ environ['PY_VER'] + '*' }}  # [win]
  commands:
    - which draw.sh                       # [unix]
    - which DRAWEXE                       # [unix]
    - where /r "%PREFIX%" DRAWEXE.exe     # [win]

about:
  home: https://www.opencascade.com/
  license_family: LGPL
  license: LGPL-2.1
  license_file: LICENSE_LGPL_21.txt
  summary: this is the occ (opencascade) CAD-Kernel
  description: Open Cascade Technology (OCCT), formerly called CAS.CADE
               is an open source software development platform for 3D CAD,
               CAM, CAE, etc. that is developed and supported by Open Cascade SAS.
  doc_url: https://www.opencascade.com/content/documentation
  dev_url: http://git.dev.opencascade.org/gitweb/?p=occt.git

extra:
  recipe-maintainers:
    - looooo
